<!DOCTYPE html>
<html>
<!--
Test page during development.
-->
<head>
    <title>MobileToys</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0"/>

    <link rel="stylesheet" href="lib/jquery.mobile.css"/>

    <script src="lib/jquery.js"></script>
    <script src="lib/jquery.mobile.js"></script>

    <script src="lib/angular.js"></script>

    <script src="jqm-angular.jsp"></script>

    <script>
        angular.module('myApp',[]);

        function RecipesCtrl($scope) {
            $scope.recipes = [];
            $scope.filters = [
                {name: 'Soup', checked: false},
                {name: 'Salad', checked: true},
                {name: 'Sandwich', checked: true},
                {name: 'Casserole'},
                {name: 'Pastas', checked: false}
            ];
            $scope.viewAll = true;// Start with all viewed by default

            $scope.setAllFilters = function(newValue) {
                console.log('setAllFilters',newValue);
                angular.forEach($scope.filters, function(f) {
                    f.checked = newValue;
                });
            };

            $scope.areAllFiltersOn = function() {
                var allFiltersAreOn = true;
                angular.forEach($scope.filters, function(f) {
                    if (f.checked===false) allFiltersAreOn=false;
                });
                return allFiltersAreOn;
            };
        }
    </script>
</head>
<body>
<div ng-controller="RecipesCtrl" ng-app="myApp">
    <div id="main" data-role="page">
        <fieldset class="ui-block-a">
            <input type="checkbox" id="checked"
                   ng-checked="areAllFiltersOn()"
                   ng-click="setAllFilters(viewAll)">
            <label for="checked">View All-{{areAllFiltersOn()}}</label>
        </fieldset>
        <fieldset ng-repeat="filter in filters">
            <input type="checkbox" id="checked2" ng-model="filter.checked" name="test">
            <label for="checked2">{{filter.name}}-{{filter.checked}}</label>
        </fieldset>

        <pre>
            {{filters}}

        </pre>
    </div>

</div>

â€‹</body>

</html>