<!DOCTYPE html>
<html xmlns:ng="http://angularjs.org" xmlns:ngm="http://jqm-angularjs.org">
<!--
Test page during development.
-->
<head>
    <title>MobileToys</title>
    <script>parent.instrument && parent.instrument(window);</script>
    <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;"/>

    <link rel="stylesheet" href="lib/jquery.mobile-1.0b2-oc1.css"/>

    <script src="lib/jquery-1.6.2.js"></script>
    <script src="lib/angular-0.9.19.js"></script>
    <script src="lib/jquery.mobile-1.0b2-oc1.js"></script>
    <script src="lib/require.js" data-main="jqm-angular"></script>
    <script>
        require.s.contexts._.jQueryCheck();
    </script>
</head>
<body>
    <script>
        function MyController($xhr) {
            this.list = [];
            this.add = function(value) {
                $xhr('JSON', 'https://secure.openkeyval.org/JQueryMobileAngularTodoapp?callback=JSON_CALLBACK', function(status, data) {
                    alert(data);
                });
                //this.list.push(value);
            }
        }
        MyController.$inject = ['$xhr'];

    </script>


<div data-role="page" id="start" data-theme="d">
    <div data-role="content" ng:controller="MyController">
        <ul ng:repeat="v in list" data-role="listview">
            <li>{{v}}</li>
        </ul>

        <button ng:click="add('hallo')">Add</button>


    </div>
</div>

</body>
</html>