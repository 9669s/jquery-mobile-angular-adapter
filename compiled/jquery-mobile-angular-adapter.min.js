/*! jquery-mobile-angular-adapter - v1.2.1-SNAPSHOT - 2013-03-04
* https://github.com/tigbro/jquery-mobile-angular-adapter
* Copyright (c) 2013 Tobias Bosch; Licensed MIT */
(function(e){"function"==typeof define&&define.amd?define(["jquery","angular","jquery.mobile"],e):e(window.jQuery,window.angular)})(function(e,t){(function(e){function t(e,t,n){var r=e[t];e[t]=function(){return n(r,this,arguments)}}e(document).bind("selectmenubeforecreate",function(n){var r=e(n.target).data("selectmenu");t(r,"close",function(t,n,r){if(!n.options.disabled&&n.isOpen)if("page"===n.menuType){var i=e.mobile.urlHistory.getPrev().url;e.mobile.path.isPath(i)||(i=e.mobile.path.makeUrlAbsolute("#"+i)),e.mobile.changePage(i,{changeHash:!1,fromHashChange:!0}),n.isOpen=!1}else t.apply(n,r)})}),t(e.mobile.selectmenu.prototype,"destroy",function(e,t,n){e.apply(t,n);var r=t.menuPage,i=t.screen,o=t.listbox;r&&r.remove(),i&&i.remove(),o&&o.remove()}),e.mobile.selectmenu.prototype.placeholder="",t(e.mobile.listview.prototype,"destroy",function(t,n,r){var i=n.element.attr("id"),o=RegExp(e.mobile.subPageUrlKey+"="+i+"-"),a=n.childPages();t.apply(n,r);for(var c=0;a.length>c;c++){var l=e(a[c]),u=l.attr("data-url");u.match(o)&&l.remove()}}),t(e.mobile.listview.prototype,"refresh",function(e,t,n){return 0===t.element.filter(":visible").length?e.call(t,!0):e.apply(t,n)}),e.fn.controlgroup&&e(document).bind("pagecreate create",function(t){e(":jqmData(role='controlgroup')",t.target).jqmEnhanceable().controlgroup({excludeInvisible:!1})}),t(e.fn,"controlgroup",function(e,t,n){if(0===t.filter(":visible").length){var r=n[0]||{};return r.excludeInvisible=!1,e.call(t,r)}return e.apply(t,n)});var n=e.fn.collapsible,r="ui-collapsible-content";e.fn.collapsible=function(){var e=this.find(".ui-collapsible-content");e.removeClass(r);try{return n.apply(this,arguments)}finally{e.addClass(r)}},t(e.mobile.navbar.prototype,"_create",function(t,n,r){var i=e.fn.find,o=n.element;e.fn.find=function(e){var t=i.apply(this,arguments);return"a"===e&&o.data("$navbtns",t),t};try{return t.apply(n,r)}finally{e.fn.find=i}}),e.mobile.navbar.prototype.refresh=function(){var t=this.element,n=t.data("$navbtns");n.splice(0,n.length),e.each(t.find("a"),function(e,t){n.push(t)});var r=n.filter(":jqmData(icon)").length?this.options.iconpos:void 0,i=t.find("ul"),o=i.children("li");i.removeClass(function(e,t){return(t.match(/\bui-grid-\S+/g)||[]).join(" ")}),o.removeClass(function(e,t){return(t.match(/\bui-block-\S+/g)||[]).join(" ")}),i.jqmEnhanceable().grid({grid:this.options.grid}),n.buttonMarkup({corners:!1,shadow:!1,inline:!0,iconpos:r})}})(window.jQuery),function(e,t){function n(){var e=[];return{addHandler:function(t){e.push(t)},$get:["$injector",function(t){return function(n){var r;for(r=0;n.length>r;r++)n=t.invoke(e[r],this,{element:n});return n}}]}}function r(e){e.decorator("$compile",["$precompile","$delegate",function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return n[0]=e(n[0]),t.apply(this,n)}}])}function i(t,n){var r=e("<div>"+t+"</div>");return n(r.contents()),r.html()}function o(e,t){var n={},r=e.directive;e.directive=function(e,t){var o=function(e,r){var o=r.invoke(t);return o.template?o.template=i(o.template,e):o.templateUrl&&(n[o.templateUrl]=!0),o};return r.call(this,e,["$precompile","$injector",o])},t.decorator("$http",["$q","$delegate","$precompile",function(e,t,r){var o=t.get;return t.get=function(e){var t=o.apply(this,arguments);if(n[e]){var a=t.success;t.success=function(e){var t=function(){var t=Array.prototype.slice.call(arguments),n=t[0];return t[0]=i(n,r),e.apply(this,t)};return a(t)}}return t},t}])}var a=t.module("ng");a.provider("$precompile",n),a.config(["$provide",r]),a.config(["$compileProvider","$provide",o])}(e,t),function(e){function t(e){return e.$disconnect=function(){if(this.$root!==this){var e=this.$parent;this.$$disconnected=!0,e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$$nextSibling=this.$$prevSibling=null}},e.$reconnect=function(){if(this.$root!==this){var e=this;if(e.$$disconnected){var t=e.$parent;e.$$disconnected=!1,e.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=e,t.$$childTail=e):t.$$childHead=t.$$childTail=e}}},e}var n=e.module("ng");n.config(["$provide",function(e){e.decorator("$rootScope",["$delegate",t])}])}(t),function(e){function t(e){var t=e.$apply;e.$apply=function(){return e.$$phase?e.$eval.apply(this,arguments):t.apply(this,arguments)};var n=e.$digest;return e.$digest=function(){e.$$phase||n.apply(this,arguments)},e}var n=e.module("ng");n.config(["$provide",function(e){e.decorator("$rootScope",["$delegate",t])}])}(t),function(e,t){function n(t){var n,r=t.$digest;return t.$digest=function(){if(this===t){var i=e.mobile.activePage,o=i&&i.scope();n&&n!==o&&n.$disconnect(),n=o,o&&o.$reconnect()}var a=r.apply(this,arguments);if(this===t){for(var c=s.length;s.length;){var l=s.shift();l.$disconnect()}if(c&&!u){u=!0;var f=e.mobile.changePage;e.mobile.changePage=function(){};try{e.mobile.initializePage()}finally{e.mobile.changePage=f}t.$broadcast("jqmInit")}}return a},t}function r(e,t){function n(){var n=t.find(r).add(t.filter(r));n.attr("ngm-page","true"),e.markJqmWidgetCreation(function(){e.preventJqmWidgetCreation(function(){n.length>0?n.page():t.parent().trigger("create")})}),n.page("destroy")}var r=':jqmData(role="page"), :jqmData(role="dialog")',o=t[0].parentNode;for(i(t[0],n);t[0].parentNode!==o;)t=t.eq(0).parent();return t}function i(e,t){if(!e.parentNode)return t();for(;e.parentNode&&1===e.parentNode.nodeType;)e=e.parentNode;var n=e.parentNode;n!==document&&document.documentElement.appendChild(e);try{return t()}finally{n!==document&&n.appendChild(e)}}function o(t){return{restrict:"A",scope:!0,compile:function(n){return n.removeAttr("ngm-page"),{pre:function(n,r){e.mobile.pageContainer||(e.mobile.pageContainer=r.parent().addClass("ui-mobile-viewport")),a(t,r),s.push(n),r.bind("pagebeforeshow",function(t){var r=e(t.target);n.$emit("jqmPagebeforeshow",r),n.$root.$digest()})}}}}}function a(t,n){t.preventJqmWidgetCreation(function(){var t=e.mobile.page.prototype.widgetEventPrefix;e.mobile.page.prototype.widgetEventPrefix="noop",n.page(),e.mobile.page.prototype.widgetEventPrefix=t})}function c(t,n,r){function i(t){var n=t.jqmData("url");n&&e.mobile.path.isPath(n)||(n=o);var r=e.mobile.path.makeUrlAbsolute(n,o);t.find("a:not([rel='external'], [target])").each(function(){var t=e(this),n=t.attr("href");t.attr("href",e.mobile.path.makeUrlAbsolute(n,r))})}r.patchJq("page",function(){return r.preventJqmWidgetCreation()||this.data("page")||this.attr("data-"+e.mobile.ns+"external-page")&&(i(this),n(this)(t)),e.fn.orig.page.apply(this,arguments)});var o=e.mobile.base.element.attr("href")}var l=t.module("ng"),u=!1,s=[];e.mobile.autoInitializePage=!1,l.config(["$provide",function(e){e.decorator("$rootScope",["$delegate",n])}]),l.config(["$precompileProvider",function(e){e.addHandler(["jqmNgWidget","element",r])}]),l.run(["$rootScope","$compile","jqmNgWidget",c]),l.directive("ngmPage",["jqmNgWidget",o])}(e,t),function(e,t){function n(t){var n={},c={},f={widget:function(e,r){return 1===arguments.length?n[e]:(n[e]=r,i(e,t),void 0)},$get:["$injector",function(t){return{lookup:function(e){return c[e]},_init:function(){var e,r;for(e in n)r=c[e]=t.invoke(n[e]),o(e,r)},preventJqmWidgetCreation:l,markJqmWidgetCreation:u,patchJq:a,createWidget:function(t,n,i){var o=JSON.parse(i[r(t)]);s(function(){e.fn.orig[t].apply(n,o)},n)},bindDefaultAttrsAndEvents:d,bindDisabledAttribute:p,refreshAfterNgModelRender:g,refreshOnChildrenChange:v,triggerAsyncRefresh:m}}]};return f}function r(e){return"ngm"+e[0].toUpperCase()+e.substring(1)}function i(e,t){function n(t){return{restrict:"A",priority:0,require:["?ngModel","?select"],compile:function(n,r){return JSON.parse(r[i]),{pre:function(n,r,i,o){var a=t.lookup(e);a.preLink&&a.preLink(e,n,r,i,o[0],o[1])},post:function(n,r,i,o){var a=t.lookup(e);a.link(e,n,r,i,o[0],o[1])}}}}}var i=r(e);t.directive(i,["jqmNgWidget",n])}function o(t,n){var r="data-ngm-"+t;a(t,function(){if(u())for(var i=Array.prototype.slice.call(arguments),o=this,a=0;o.length>a;a++){var c=o.eq(a);n&&n.precompile&&n.precompile(c,i),c.attr(r,JSON.stringify(i))}return l()?!1:e.fn.orig[t].apply(this,arguments)})}function a(t,n){e.fn.orig[t]=e.fn.orig[t]||e.fn[t],e.fn[t]=n}function c(e,t){if(!t)return b[e];var n=b[e];b[e]=!0;var r=t();return b[e]=n,r}function l(e){return c("preventJqmWidgetCreation",e)}function u(e){return c("markJqmWidgetCreation",e)}function s(t,n){var r,i,o,a,c=Array.prototype.slice.call(n.parents());for(c.unshift(n[0]),t(),r=Array.prototype.slice.call(n.parents()),r.unshift(n[0]),i=0;c.length>i;i++)if(o=c[c.length-i-1],a=r[r.length-i-1],o!==a){e(o).data("wrapperDelegate",e(a));break}}function f(t){var n=e.fn[t];e.fn[t]=function(){var e,t,r=Array.prototype.slice.call(arguments),i=r[0];return e=this.data("wrapperDelegate"),i&&"function"==typeof i.data&&(t=i.data("wrapperDelegate"),r[0]=t||r[0]),n.apply(e||this,r)}}function d(e,t,n,r,i){var o=n.data(e);o&&(o.disable&&o.enable&&p(e,n,r),o.refresh&&(v(e,t,n),i&&g(e,t,n,i)))}function p(e,t,n){n.$observe("disabled",function(n){n?t[e]("disable"):t[e]("enable")})}function g(e,t,n,r){h(r,"$render",function(){m(e,t,n,"refresh")})}function h(e,t,n){var r="_listeners"+t;if(!e[r]){e[r]=[];var i=e[t];e[t]=function(){for(var t=i.apply(this,arguments),n=0;e[r].length>n;n++)e[r][n]();return t}}e[r].push(n)}function v(e,t,n){n.bind("$childrenChanged",function(){m(e,t,n,"refresh")})}function m(e,t,n,r){var i="_refresh"+e,o=(n.data(i)||0)+1;n.data(i,o),t.$evalAsync(function(){n.data(i)===o&&n[e](r)})}var $=t.module("ng"),b={};e.fn.orig={},$.provider("jqmNgWidget",["$compileProvider",n]),$.run(["jqmNgWidget",function(e){e._init()}]),f("after"),f("before"),f("remove")}(window.jQuery,window.angular),function(e,t){function n(e,t){function n(e,t){var n=e.children("option"),r=n.eq(0).val();if("?"===r||0===r.indexOf("? ")){n.eq(1).prop("selected",!0);var i=t.$pristine;t.$pristine=!1,e.trigger("change"),t.$pristine=i}}return{link:function(r,i,o,a,c,l){l?t(function(){n(o,c),e.createWidget(r,o,a),e.bindDefaultAttrsAndEvents(r,i,o,a,c)}):(e.createWidget(r,o,a),e.bindDefaultAttrsAndEvents(r,i,o,a,c))}}}function r(e){return{link:function(t,n,r,i,o){e.createWidget(t,r,i),e.bindDefaultAttrsAndEvents(t,n,r,i,o)}}}function i(e){function n(e){var n=t(e).closest("label"),r=t(e).closest("form,fieldset,:jqmData(role='page'),:jqmData(role='dialog')");0===r.length&&(r=e.parent());var i=n.length?n:r.find("label").filter("[for='"+e[0].id+"']");0===i.length?e.attr("ng-non-bindable","true"):i.append(e)}return{precompile:n,link:function(t,n,r,i,o){var a=r.parent("label");if(0===a.length)throw Error("Don't use ng-repeat or other conditional directives on checkboxes/radiobuttons directly. Instead, wrap the input into a label and put the directive on that input!");e.createWidget(t,r,i),e.bindDefaultAttrsAndEvents(t,n,r,i,o),i.$observe("checked",function(){e.triggerAsyncRefresh(t,n,r,"refresh")})}}}function o(e){return{precompile:function(e){if("INPUT"===e[0].nodeName){var t=e.val();e.append(document.createTextNode(t))}},link:function(t,n,r,i,o){var a=r.contents();e.createWidget(t,r,i);var c=r.parent().find(".ui-btn-text");c.empty(),c.append(a),e.bindDefaultAttrsAndEvents(t,n,r,i,o)}}}function a(e,t){function n(e,n,r){if(r.collapsed){var i=t(r.collapsed),o=i.assign;e.$watch(i,function(e){e?n.trigger("collapse"):n.trigger("expand")}),o&&(n.bind("collapse",function(){e.$apply(function(){o(e,!0)})}),n.bind("expand",function(){e.$apply(function(){o(e,!1)})}))}}return{link:function(t,r,i,o,a){e.createWidget(t,i,o),e.bindDefaultAttrsAndEvents(t,r,i,o,a),n(r,i,o)}}}function c(e){function n(e){var n=t.mobile.dialog.prototype.options,r=t("<a href='#' data-"+t.mobile.ns+"icon='delete' data-"+t.mobile.ns+"iconpos='notext'>"+n.closeBtnText+"</a>");e.find(":jqmData(role='header')").prepend(r),e.data("headerCloseButton",r)}return{precompile:n,link:function(t,n,r,i,o){e.createWidget(t,r,i);var a=r.find(':jqmData(role="header") :jqmData(icon="delete")');a.eq(1).bind("click",function(){r.dialog("close")}),a.eq(0).remove(),e.bindDefaultAttrsAndEvents(t,n,r,i,o)}}}function l(e){return{link:function(t,n,r,i,o){e.createWidget(t,r,i),e.bindDefaultAttrsAndEvents(t,n,r,i,o),r.bind("$childrenChanged",function(){e.triggerAsyncRefresh(t,n,r,{})})}}}var u=e.module("ng");u.config(["jqmNgWidgetProvider",function(e){e.widget("checkboxradio",["jqmNgWidget",i]),e.widget("button",["jqmNgWidget",o]),e.widget("collapsible",["jqmNgWidget","$parse",a]),e.widget("dialog",["jqmNgWidget",c]),e.widget("controlgroup",["jqmNgWidget",l]),e.widget("textinput",["jqmNgWidget",r]),e.widget("slider",["jqmNgWidget","$timeout",n]),e.widget("listview",["jqmNgWidget",r]),e.widget("collapsibleset",["jqmNgWidget",r]),e.widget("selectmenu",["jqmNgWidget",r]),e.widget("navbar",["jqmNgWidget",r]),e.widget("fixedtoolbar",["jqmNgWidget",r]),e.widget("popup",["jqmNgWidget",r])}])}(t,e),function(e,t){function n(e){function t(e){var t={};e.suppressEventInDigestCycle=function(e){t[e]=!0};var n=e.$broadcast;e.$broadcast=function(e){return t[e]?{}:n.apply(this,arguments)};var r=e.$digest;return e.$digest=function(){var e=r.apply(this,arguments);return t={},e},e}function n(e,t){return e.backMode=function(){return e.$$replace="back",this},e.goBack=function(){if(0>=t.activeIndex)throw Error("There is no page in the history to go back to!");return this.$$parse(t.urlStack[t.activeIndex-1]),this.backMode(),this},e}function r(e){var t=e.url;return e.url=function(){var e=t.apply(this,arguments);return 0===arguments.length&&(e=e.replace(/%23/g,"#")),e},e}function i(e,t,n,r){var i=e.url,o=null;return e.url=function(e,a){if(e){var c=t.onUrlChangeProgrammatically(e,a===!0,"back"===a);if(c===!1){var l=r.get("$location");return o=l.routeOverride(),l.$$parse(i.call(this)),n.suppressEventInDigestCycle("$locationChangeStart"),n.suppressEventInDigestCycle("$locationChangeSuccess"),void 0}}return i.apply(this,arguments)},e.onUrlChange,e.onUrlChange(function(e){if(o){var n=r.get("$location");n.routeOverride(o)}t.onUrlChangeBrowser(e)}),e}e.decorator("$rootScope",["$delegate",t]),e.decorator("$location",["$delegate","$history",n]),e.decorator("$browser",["$delegate",r]),e.decorator("$browser",["$delegate","$history","$rootScope","$injector",i])}function r(){function e(e){window.setTimeout(function(){window.history.go(e)},0)}function t(e){r.activeIndex=r.urlStack.indexOf(e),-1===r.activeIndex?n(e,!1):r.fromUrlChange=!0}function n(e,t,n){if(n){var i,o=r.activeIndex;for(i=o-1;i>=0&&r.urlStack[i]!==e;)i--;if(-1!==i&&-1!==o)return r.go(i-o),!1}r.urlStack[r.activeIndex]!==e&&(r.fromUrlChange=!1,t||r.activeIndex++,r.urlStack.splice(r.activeIndex,r.urlStack.length-r.activeIndex),r.urlStack.push(e))}var r;return r={go:e,urlStack:[],activeIndex:-1,fromUrlChange:!1,onUrlChangeProgrammatically:n,onUrlChangeBrowser:t}}var i=t.module("ng");e.mobile._registerBrowserDecorators=e.mobile._registerBrowserDecorators||[],e.mobile._registerBrowserDecorators.push(n),i.config(["$provide",function(e){n(e)}]),i.factory("$history",r)}(window.jQuery,window.angular),function(e,t){function n(e){e.decorator("$location",["$delegate",a]),e.decorator("$browser",["$delegate",i]),e.decorator("$browser",["$delegate",o])}function r(){k.directive("a",w),k.config(["$locationProvider",C])}function i(e){var t=e.baseHref;return e.baseHref=function(){var e=t.call(this);return e?e.replace(/^file?\:\/\/[^\/]*/,""):e},e}function o(e){var t=e.url;return e.url=function(e,n){var r;return e?(r=t.call(this),-1!==r.indexOf(x)&&(n=!0),t.call(this,e,n)):t.apply(this,arguments)},e}function a(e){e.routeOverride=function(t){return 0===arguments.length?e.$$routeOverride:(e.$$routeOverride=t,this)};var t=e.hash();return t&&0===t.indexOf("!")&&(e.search({}),e.url(t.substring(1))),e}function c(){t.mobile.pushStateEnabled=!1,t.mobile.hashListeningEnabled=!1,t.mobile.linkBindingEnabled=!1,t.mobile.changePage.defaults.changeHash=!1,t.mobile._handleHashChange=function(){},t.support.dynamicBaseTag&&(t.support.dynamicBaseTag=!1,t.mobile.base.set=function(){}),t.mobile.changePage.defaults.allowSamePageTransition=!0}function l(e){var t=e.when;e.when=function(e,n){if(!n.templateUrl&&!n.redirectTo)throw Error("Only routes with templateUrl or redirectTo are allowed with the jqm adapter!");if(n.controller)throw Error("Controllers are not allowed on routes with the jqm adapter. However, you may use the onActivate parameter");return t.apply(this,arguments)},e.when(x,{templateUrl:j}),e.otherwise({templateUrl:j})}function u(e){return e.substr(0,e.lastIndexOf("/"))}function s(t,n){t.$on("$routeChangeStart",function(t,r){var i=n.$$routeOverride;delete n.$$routeOverride,i&&(i.onActivate&&(r.onActivate=i.onActivate),r.jqmOptions=r.jqmOptions||{},e.extend(r.jqmOptions,i.jqmOptions),r.resolve=r.resolve||{},e.forEach(i.locals,function(e,t){r.resolve[t]=function(){return e}})),r.ngmTemplateUrl=r.templateUrl,r.templateUrl=void 0})}function f(e,t){e.$on("jqmPagebeforeshow",function(){p()&&$(t,!0)})}function d(t,n,r){t.$on("jqmPagebeforeshow",function(t){var i,o=n.current;o&&o.onActivate&&(i=e.extend({},o.locals,r),t.targetScope.$eval(o.onActivate,i))})}function p(){return t.mobile.activePage&&"dialog"===t.mobile.activePage.jqmData("role")}function g(e,n,r,i,o){e.$on("$routeChangeSuccess",function(){function a(){t.mobile.changePage(l,f),t.mobile.popup.active&&$(r,!0)}var c=n.current;t(document);var l=c.ngmTemplateUrl;if(l===j){if($(r))return;l=r.url();var s=i.baseHref();l=-1===l.indexOf("/")?s+l:u(s)+l}if(l){var f=c.jqmOptions=c.jqmOptions||{};o.fromUrlChange&&(f.fromHashChange=!0),t.mobile.firstPage?a():e.$on("jqmInit",a)}})}function h(e,t){e.$on("$locationChangeStart",function(){var e=t.hash();$(t)&&e&&(t.$$parse(t.$$urlBeforeDialog),t.hash(e))}),e.$on("$locationChangeSuccess",function(e,n,r){r&&-1!==r.indexOf(x)&&delete t.$$urlBeforeDialog})}function v(e,n){var r=t.mobile.popup.prototype,i=r._open;r._open=function(){return this.firstPopup=!p(),i.apply(this,arguments)};var o=r._close;r._close=function(){$(n)&&this.firstPopup?e.$apply(function(){n.goBack()}):o.apply(this,arguments)}}function m(e,n){var r=t.mobile.dialog.prototype;r.origClose=r.close,r.close=function(){this._isCloseable&&$(n)?(this._isCloseable=!1,e.$apply(function(){n.goBack()})):this.origClose()}}function $(e){return 1===arguments.length?e.path()===x:(e.$$urlBeforeDialog=e.absUrl(),e.url(x),e.replace(),void 0)}function b(e,t,n,r){var i=t.jqmData("rel");if("back"===i)e.preventDefault(),n.$apply(function(){r.goBack()});else if(y(t))e.preventDefault();else{var o=t.prop("href"),a=r.$$rewriteAppUrl(o),c=t.jqmData("ajax");if(o&&!t.attr("target")&&c!==!1&&"external"!==i&&a){r.$$parse(a),e.preventDefault(),window.angular["ff-684208-preventDefault"]=!0;var l=r.routeOverride()||{},u=l.jqmOptions={link:t};i&&(u.role=i);var s=t.jqmData("transition");s&&(u.transition=s);var f=t.jqmData("direction");f&&(u.reverse="reverse"===f),r.routeOverride(l),n.$apply()}}}function y(e){var t=e.attr("href");return"#"===t||!t}function w(){return{restrict:"E",compile:function(e,t){y(e)&&t.$set("href","#")}}}function C(n){var r=n.$get;n.$get=["$injector","$rootElement","$rootScope","$browser",function(i,o,a){var c=q(o,function(){return i.invoke(r,n)});return o.bind("click",function(n){if(!n.ctrlKey&&!n.metaKey&&2!==n.which){for(var r=t(n.target);"a"!==e.lowercase(r[0].nodeName);)if(r[0]===o[0]||!(r=r.parent())[0])return;b(n,r,a,c)}}),c}]}function q(e,n){var r=t.fn.bind;try{return t.fn.bind=function(t){return"click"!==t||this[0]!==e[0]?r.apply(this,arguments):void 0},n()}finally{t.fn.bind=r}}var j="DEFAULT_JQM_PAGE",x="/"+t.mobile.dialogHashKey,k=e.module("ng");t.mobile._registerBrowserDecorators=t.mobile._registerBrowserDecorators||[],t.mobile._registerBrowserDecorators.push(n),k.config(["$provide",function(e){n(e)}]),c(),k.config(["$locationProvider",function(e){e.html5Mode(!0),e.hashPrefix("!")}]),k.directive("ngView",function(){throw Error("ngView is not allowed and not needed with the jqm adapter.")}),r(),k.config(["$routeProvider",l]),k.run(["$rootScope","$location",s]),k.run(["$rootScope","$location",f]),k.run(["$rootScope","$route","$routeParams",d]),k.run(["$rootScope","$route","$location","$browser","$history",g]),k.run(["$rootScope","$location",h]),k.run(["$rootScope","$location",v]),k.run(["$rootScope","$location",m])}(t,e),function(e,t){function n(e,t){var n;if(!!e^!!t)return!1;for(n in e)if(t[n]!==e[n])return!1;for(n in t)if(t[n]!==e[n])return!1;return!0}function r(e){if(!e)return e;var t;t=e.length?[]:{};for(var n in e)t[n]=e[n];return t}var i=t.module("ng");i.directive("ngRepeat",function(){return{priority:1e3,compile:function(){return{pre:function(e,t,i){var o=i.ngRepeat,a=o.match(/^.+in\s+(.*)\s*$/);if(!a)throw Error("Expected ngRepeat in form of '_item_ in _collection_' but got '"+o+"'.");var c,l=a[1],u=0;e.$watch(function(){var t=e.$eval(l);return n(t,c)||(c=r(t),u++),u},function(){t.parent().trigger("$childrenChanged")})}}}}})}(e,t),function(e,t){function n(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}var r=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*)$/,i=t.module("ng");i.directive("ngOptions",["$parse",function(e){return{require:["select","?ngModel"],link:function(t,i,o,a){function c(){var e,r,i,o=[],a=g(t)||[],c=d?n(a):a,l={};for(r=c.length,i=0;r>i;i++)a[i],l[f]=a[d?l[d]=c[i]:i],e=p(t,l),o.push({id:d?c[i]:i,label:s(t,l),optionGroup:e});return o}if(a[1]){var l,u=o.ngOptions;if(!(l=u.match(r)))throw Error("Expected ngOptions in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '"+u+"'.");var s=e(l[2]||l[1]),f=l[4]||l[6],d=l[5],p=e(l[3]||""),g=(e(l[2]?l[1]:f),e(l[7]));t.$watch(c,function(){i.trigger("$childrenChanged")},!0)}}}}])}(e,t),function(e){var t=e.module("ng");t.directive("option",["$interpolate",function(e){return{restrict:"E",compile:function(t){var n=e(t.text(),!0),r=e(t.attr("value"),!0);return function(e,t){e.$watch(n,function(){t.trigger("$childrenChanged")}),e.$watch(r,function(){t.trigger("$childrenChanged")})}}}}])}(t),function(t){var n=t.module("ng");n.directive("li",function(){return{restrict:"E",compile:function(){return function(t,n){n.bind("$childrenChanged",function(){n.removeClass(function(e,t){return(t.match(/\bui-\S+/g)||[]).join(" ")});var t=n.data("buttonElements");if(t){for(var r=t.text;r.firstChild;)n[0].appendChild(r.firstChild);e(t.inner).remove()}n.removeData("buttonElements")})}}}})}(t),function(e){var t=e.module("ng");t.directive("ngSwitch",function(){return{restrict:"EA",compile:function(e,t){var n=t.ngSwitch||t.on;return function(e,t){e.$watch(n,function(){t.trigger("$childrenChanged")})}}}})}(t),function(e){var t=e.module("ng");t.directive("ngInclude",function(){return{restrict:"ECA",compile:function(e,t){var n=t.ngInclude||t.src;return function(e,t){e.$watch(n,function(){t.trigger("$childrenChanged")}),e.$on("$includeContentLoaded",function(){t.trigger("$childrenChanged")})}}}})}(t),function(e,t){function n(){return{restrict:"E",require:"?ngModel",compile:function(e){var t=e.attr("type");return{pre:function(e,n,r,i){if(i){var o=[];"date"===t&&o.push("blur"),o.push("change");var a=n.bind;n.bind=function(e,t){if(-1!==e.indexOf("input")||-1!==e.indexOf("change"))for(var n=0;o.length>n;n++){var r=o[n];-1===e.indexOf(r)&&(e+=" "+r)}return a.call(this,e,t)}}}}}}}var r=t.module("ng");r.directive("input",n),r.directive("textarea",n)}(e,t),function(e){var t={transclude:"element",priority:1e3,terminal:!0,compile:function(e,t,n){return function(e,t,r){t[0].doNotMove=!0;var i,o,a=r.ngmIf;e.$watch(a,function(r){i&&(i.remove(),i=null),o&&(o.$destroy(),o=null),r&&(o=e.$new(),n(o,function(e){i=e,t.after(e)})),t.parent().trigger("$childrenChanged")})}}},n=e.module("ng");n.directive("ngmIf",function(){return t})}(t),function(e){function t(e,t,n,r,i){var o=t(i);n.bind(r,function(t){e.$apply(function(){o(e,{$event:t})}),"v"===r.charAt(0)&&t.preventDefault()})}function n(e,n){a.directive(e,["$parse",function(r){return function(i,o,a){var c=a[e];t(i,r,o,n,c)}}])}var r,i,o,a=e.module("ng"),c=["tap","taphold","swipe","swiperight","swipeleft","vmouseover","vmouseout","vmousedown","vmousemove","vmouseup","vclick","vmousecancel","orientationchange","scrollstart","scrollend","pagebeforeshow","pagebeforehide","pageshow","pagehide"];for(o=0;c.length>o;o++)r=c[o],i="ngm"+r.substring(0,1).toUpperCase()+r.substring(1),n(i,r)}(t),function(e){function t(e){return e[i]=e[i]||{}}function n(e,n,r,i){var o=t(e),a=o[n];return a||(a=e.$new(),r(n,{$scope:a}),o[n]=a,a.$$referenceCount=0),a.$$referenceCount++,i.bind("$destroy",function(){a.$$referenceCount--,0===a.$$referenceCount&&(a.$destroy(),delete o[n])}),a}function r(e){for(var t,n=/([^\s,:]+)\s*:\s*([^\s,:]+)/g,r=!1,i={};t=n.exec(e);)r=!0,i[t[1]]=t[2];if(!r)throw"Expression "+e+" needs to have the syntax <name>:<controller>,...";return i}var i="$$sharedControllers",o=e.module("ng");o.directive("ngmSharedController",["$controller",function(e){return{scope:!0,compile:function(t,i){var o=i.ngmSharedController,a=r(o),c=function(r){for(var i in a)r[i]=n(r.$root,a[i],e,t)};return{pre:c}}}}])}(t),function(e,t){function n(t){function n(e){var n=u[u.length-1];n.callback&&t.$apply(function(){n.callback.apply(this,arguments)}),e.preventDefault()}function r(){if(!e.mobile.firstPage)return t.$on("jqmInit",r),void 0;if(u.length>0){var n=u[u.length-1],i=n.msg;i?e.mobile.loading("show",{text:i,textVisible:!!i}):e.mobile.loading("show")}else e.mobile.loading("hide")}function i(){var e,t;"string"==typeof arguments[0]&&(e=arguments[0]),"function"==typeof arguments[0]&&(t=arguments[0]),"function"==typeof arguments[1]&&(t=arguments[1]),u.push({msg:e,callback:t}),r()}function o(){u.pop(),r()}function a(e,t){e.then(t,t)}function c(e,t){i(t),a(e,function(){o()})}function l(t,n,r){r||(r=e.mobile.loader.prototype.options.textWithCancel),i(r,function(){t.reject(n)}),a(t.promise,function(){o()})}var u=[];return e(document).delegate(".ui-loader","vclick",n),e.mobile.loader.prototype.options.textWithCancel||(e.mobile.loader.prototype.options.textWithCancel="Loading. Click to cancel."),e("div").live("pageshow",function(){r()}),{show:i,hide:o,waitFor:c,waitForWithCancel:l}}var r=t.module("ng");r.factory("$waitDialog",["$rootScope",n])}(e,t),function(e,t){function n(e){return function(t,n,r){if(!t)return t;if(!n)throw Error("Missing pager property");var i=this,o=i[n];o||(o=i[n]={loadMore:function(){this.loadMoreCalled=!0}});var a=r?+r:e,c=o.endIndex||a;return o.loadMoreCalled&&(o.loadMoreCalled=!1,c+=a),c>=t.length&&(c=t.length),a>c&&(c=a),o.hasMore=t.length>c,o.endIndex=c,o.cache=t.slice(0,c),o.cache}}n.$inject=["defaultListPageSize"];var r=t.module(["ng"]);r.constant("defaultListPageSize",10),r.filter("paged",n)}(e,t)});