/*! jquery-mobile-angular-adapter - v1.2.1-SNAPSHOT - 2013-03-14
* https://github.com/tigbro/jquery-mobile-angular-adapter
* Copyright (c) 2013 Tobias Bosch; Licensed MIT */
(function(e){"function"==typeof define&&define.amd?define(["jquery","angular","jquery.mobile"],e):e(window.jQuery,window.angular)})(function(e,n){(function(e){function n(e,n,t){var r=e[n];e[n]=function(){return t(r,this,arguments)}}function t(n){function t(){for(i=0;o.length>i;i++)o[i]()}function r(n,t){function r(){if(!c){var e=this,n=arguments;o.push(function(){e[t].apply(e,n)})}c=!0;try{return i.apply(this,arguments)}finally{c=!1}}var i=e.fn[n];e.fn[n]=r,a.push(function(){e.fn[n]=i})}var i,o=[],a=[],c=!1;r("on","off");try{n()}finally{for(i=0;a.length>i;i++)a[i]()}return t}n(e.mobile.selectmenu.prototype,"destroy",function(e,n,t){e.apply(n,t);var r=n.menuPage;r&&r.remove()}),e.fn.controlgroup&&e.mobile.document.bind("pagecreate create",function(n){e.mobile.controlgroup.prototype.enhanceWithin(n.target,!0)}),n(e.fn,"grid",function(e,n,t){return 0!==n.children().length?e.apply(n,t):void 0}),n(e.mobile.navbar.prototype,"_create",function(e,n,r){var i;return n.unbindListeners=t(function(){i=e.apply(n,r)}),i}),e.mobile.navbar.prototype.refresh=function(){this.unbindListeners&&(this.unbindListeners(),this.unbindListeners=null);var e=this.element,n=e.find("ul"),t=n.children("li");n.removeClass(function(e,n){return(n.match(/\bui-grid-\S+/g)||[]).join(" ")}),t.removeClass(function(e,n){return(n.match(/\bui-block-\S+/g)||[]).join(" ")}),this._create()}})(window.jQuery),function(e,n){function t(){var e=[];return{addHandler:function(n){e.push(n)},$get:["$injector",function(n){return function(t){var r;for(r=0;t.length>r;r++)t=n.invoke(e[r],this,{element:t});return t}}]}}function r(e){e.decorator("$compile",["$precompile","$delegate",function(e,n){return function(){var t=Array.prototype.slice.call(arguments);return t[0]=e(t[0]),n.apply(this,t)}}])}function i(n,t){var r=e("<div>"+n+"</div>");return t(r.contents()),r.html()}function o(e,n){var t={},r=e.directive;e.directive=function(e,n){var o=function(e,r){var o=r.invoke(n);return o.template?o.template=i(o.template,e):o.templateUrl&&(t[o.templateUrl]=!0),o};return r.call(this,e,["$precompile","$injector",o])},n.decorator("$http",["$q","$delegate","$precompile",function(e,n,r){var o=n.get;return n.get=function(e){var n=o.apply(this,arguments);if(t[e]){var a=n.success;n.success=function(e){var n=function(){var n=Array.prototype.slice.call(arguments),t=n[0];return n[0]=i(t,r),e.apply(this,n)};return a(n)}}return n},n}])}var a=n.module("ng");a.provider("$precompile",t),a.config(["$provide",r]),a.config(["$compileProvider","$provide",o])}(e,n),function(e){function n(e){return e.$disconnect=function(){if(this.$root!==this){var e=this.$parent;this.$$disconnected=!0,e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$$nextSibling=this.$$prevSibling=null}},e.$reconnect=function(){if(this.$root!==this){var e=this;if(e.$$disconnected){var n=e.$parent;e.$$disconnected=!1,e.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=e,n.$$childTail=e):n.$$childHead=n.$$childTail=e}}},e}var t=e.module("ng");t.config(["$provide",function(e){e.decorator("$rootScope",["$delegate",n])}])}(n),function(e){function n(e){var n=e.$apply;e.$apply=function(){return e.$$phase?e.$eval.apply(this,arguments):n.apply(this,arguments)};var t=e.$digest;return e.$digest=function(){e.$$phase||t.apply(this,arguments)},e}var t=e.module("ng");t.config(["$provide",function(e){e.decorator("$rootScope",["$delegate",n])}])}(n),function(e,n){function t(n){var t,r=n.$digest;return n.$digest=function(){if(this===n){var i=e.mobile.activePage,o=i&&i.scope();t&&t!==o&&t.$disconnect(),t=o,o&&o.$reconnect()}var a=r.apply(this,arguments);if(this===n){for(var c=f.length;f.length;){var l=f.shift();l.$disconnect()}if(c&&!u){u=!0;var s=e.mobile.changePage;e.mobile.changePage=function(){};try{e.mobile.initializePage()}finally{e.mobile.changePage=s}n.$broadcast("jqmInit")}}return a},n}function r(e,n){function t(){var t=n.find(r).add(n.filter(r));t.attr("ngm-page","true"),e.markJqmWidgetCreation(function(){e.preventJqmWidgetCreation(function(){t.length>0?t.page():n.parent().trigger("create")})}),t.page("destroy")}var r=':jqmData(role="page"), :jqmData(role="dialog")',o=n[0].parentNode;for(i(n[0],t);n[0].parentNode!==o;)n=n.eq(0).parent();return n}function i(e,n){if(!e.parentNode)return n();for(;e.parentNode&&1===e.parentNode.nodeType;)e=e.parentNode;var t=e.parentNode;t!==document&&document.documentElement.appendChild(e);try{return n()}finally{t!==document&&t.appendChild(e)}}function o(t,r){return{restrict:"A",scope:!0,compile:function(i){return i.removeAttr("ngm-page"),{pre:function(i,o){e.mobile.pageContainer||(e.mobile.pageContainer=o.parent().addClass("ui-mobile-viewport")),a(t,o),f.push(i),o.bind("pagebeforeshow",function(t){e(t.target),r(n.noop)})}}}}}function a(n,t){n.preventJqmWidgetCreation(function(){var n=e.mobile.page.prototype.widgetEventPrefix;e.mobile.page.prototype.widgetEventPrefix="noop",t.page(),e.mobile.page.prototype.widgetEventPrefix=n})}function c(n,t,r){function i(n){var t=n.jqmData("url");t&&e.mobile.path.isPath(t)||(t=o);var r=e.mobile.path.makeUrlAbsolute(t,o);n.find("a:not([rel='external'], [target])").each(function(){var n=e(this),t=n.attr("href");n.attr("href",e.mobile.path.makeUrlAbsolute(t,r))})}r.patchJq("page",function(){return r.preventJqmWidgetCreation()||this.data(e.mobile.page.prototype.widgetFullName)||this.attr("data-"+e.mobile.ns+"external-page")&&(i(this),t(this)(n)),e.fn.orig.page.apply(this,arguments)});var o=e.mobile.base.element.attr("href")}var l=n.module("ng"),u=!1,f=[];e.mobile.autoInitializePage=!1,l.config(["$provide",function(e){e.decorator("$rootScope",["$delegate",t])}]),l.config(["$precompileProvider",function(e){e.addHandler(["jqmNgWidget","element",r])}]),l.run(["$rootScope","$compile","jqmNgWidget",c]),l.directive("ngmPage",["jqmNgWidget","$timeout",o])}(e,n),function(e,n){function t(n){var t={},c={},s={widget:function(e,r){return 1===arguments.length?t[e]:(t[e]=r,i(e,n),void 0)},$get:["$injector",function(n){return{lookup:function(e){return c[e]},_init:function(){var e,r;for(e in t)r=c[e]=n.invoke(t[e]),o(e,r)},preventJqmWidgetCreation:l,markJqmWidgetCreation:u,patchJq:a,createWidget:function(n,t,i){var o=JSON.parse(i[r(n)]);f(function(){e.fn.orig[n].apply(t,o)},t)},bindDefaultAttrsAndEvents:d,bindDisabledAttribute:p,refreshAfterNgModelRender:g,refreshOnChildrenChange:h,triggerAsyncRefresh:m}}]};return s}function r(e){return"ngm"+e[0].toUpperCase()+e.substring(1)}function i(e,n){function t(n){return{restrict:"A",priority:0,require:["?ngModel","?select"],compile:function(t,r){return JSON.parse(r[i]),{pre:function(t,r,i,o){var a=n.lookup(e);a.preLink&&a.preLink(e,t,r,i,o[0],o[1])},post:function(t,r,i,o){var a=n.lookup(e);a.link(e,t,r,i,o[0],o[1])}}}}}var i=r(e);n.directive(i,["jqmNgWidget",t])}function o(n,t){var r="data-ngm-"+n;a(n,function(){if(u())for(var i=Array.prototype.slice.call(arguments),o=this,a=0;o.length>a;a++){var c=o.eq(a);t&&t.precompile&&t.precompile(c,i),c.attr(r,JSON.stringify(i))}return l()?!1:e.fn.orig[n].apply(this,arguments)})}function a(n,t){e.fn.orig[n]=e.fn.orig[n]||e.fn[n],e.fn[n]=t}function c(e,n){if(!n)return b[e];var t=b[e];b[e]=!0;var r=n();return b[e]=t,r}function l(e){return c("preventJqmWidgetCreation",e)}function u(e){return c("markJqmWidgetCreation",e)}function f(n,t){var r,i,o,a,c=Array.prototype.slice.call(t.parents());for(c.unshift(t[0]),n(),r=Array.prototype.slice.call(t.parents()),r.unshift(t[0]),i=0;c.length>i;i++)if(o=c[c.length-i-1],a=r[r.length-i-1],o!==a){e(o).data("wrapperDelegate",e(a));break}}function s(n){var t=e.fn[n];e.fn[n]=function(){try{var e,r,i=Array.prototype.slice.call(arguments),o=i[0];return e=this.data("wrapperDelegate"),e&&"remove"===n&&(this.removeData("wrapperDelegate"),t.apply(this,i)),o&&"function"==typeof o.data&&(r=o.data("wrapperDelegate"),i[0]=r||i[0]),e&&window.top.console.log("delegate ",n,e,r),t.apply(e||this,i)}finally{}}}function d(n,t,r,i,o){var a=r.data(e.mobile[n].prototype.widgetFullName);a&&(a.disable&&a.enable&&p(n,r,i),a.refresh&&(h(n,t,r),o&&g(n,t,r,o)))}function p(e,n,t){t.$observe("disabled",function(t){t?n[e]("disable"):n[e]("enable")})}function g(e,n,t,r){v(r,"$render",function(){m(e,n,t,"refresh")})}function v(e,n,t){var r="_listeners"+n;if(!e[r]){e[r]=[];var i=e[n];e[n]=function(){for(var n=i.apply(this,arguments),t=0;e[r].length>t;t++)e[r][t]();return n}}e[r].push(t)}function h(e,n,t){t.bind("$childrenChanged",function(){m(e,n,t,"refresh")})}function m(e,n,t,r){var i="_refresh"+e,o=(t.data(i)||0)+1;t.data(i,o),n.$evalAsync(function(){t.data(i)===o&&t[e](r)})}var $=n.module("ng"),b={};e.fn.orig={},$.provider("jqmNgWidget",["$compileProvider",t]),$.run(["jqmNgWidget",function(e){e._init()}]),s("after"),s("before"),s("remove")}(window.jQuery,window.angular),function(e,n){function t(e){return{link:function(n,t,r,i,o){e.createWidget(n,r,i),e.bindDefaultAttrsAndEvents(n,t,r,i,o)}}}function r(e,t){function r(e,r,i){if(i.opened){var o=t(i.opened),a=o.assign,c=r.data(n.mobile.popup.prototype.widgetFullName);if(e.$watch(o,function(e){e?r.popup("open"):r.popup("close")}),c&&a){a(e,c._isOpen);var l=c._open,u=c._close;c._open=function(){var n=l.apply(this,arguments);return e.$apply(function(){a(e,!0)}),n},c._close=function(){var n=u.apply(this,arguments);return e.$apply(function(){a(e,!1)}),n}}}}return{link:function(n,t,i,o,a){e.createWidget(n,i,o),e.bindDefaultAttrsAndEvents(n,t,i,o,a),r(t,i,o)}}}function i(e,n){function t(e,n){var t=e.children("option"),r=t.eq(0).val();if("?"===r||0===r.indexOf("? ")){t.eq(1).prop("selected",!0);var i=n.$pristine;n.$pristine=!1,e.trigger("change"),n.$pristine=i}}return{link:function(r,i,o,a,c,l){l?n(function(){t(o,c),e.createWidget(r,o,a),e.bindDefaultAttrsAndEvents(r,i,o,a,c)}):(e.createWidget(r,o,a),e.bindDefaultAttrsAndEvents(r,i,o,a,c))}}}function o(e){function t(e){var t=n(e).closest("label"),r=n(e).closest("form,fieldset,:jqmData(role='page'),:jqmData(role='dialog')");0===r.length&&(r=e.parent());var i=t.length?t:r.find("label").filter("[for='"+e[0].id+"']");0===i.length?e.attr("ng-non-bindable","true"):i.append(e)}return{precompile:t,link:function(n,t,r,i,o){var a=r.parent("label");if(0===a.length)throw Error("Don't use ng-repeat or other conditional directives on checkboxes/radiobuttons directly. Instead, wrap the input into a label and put the directive on that input!");e.createWidget(n,r,i),e.bindDefaultAttrsAndEvents(n,t,r,i,o),i.$observe("checked",function(){e.triggerAsyncRefresh(n,t,r,"refresh")})}}}function a(e){return{precompile:function(e){if("INPUT"===e[0].nodeName){var n=e.val();e.append(document.createTextNode(n))}},link:function(n,t,r,i,o){var a=r.contents();e.createWidget(n,r,i);var c=r.parent().find(".ui-btn-text");c.empty(),c.append(a),e.bindDefaultAttrsAndEvents(n,t,r,i,o)}}}function c(e,n){function t(e,t,r){if(r.collapsed){var i=n(r.collapsed),o=i.assign;e.$watch(i,function(e){e?t.trigger("collapse"):t.trigger("expand")}),o&&(t.bind("collapse",function(){e.$apply(function(){o(e,!0)})}),t.bind("expand",function(){e.$apply(function(){o(e,!1)})}))}}return{link:function(n,r,i,o,a){e.createWidget(n,i,o),e.bindDefaultAttrsAndEvents(n,r,i,o,a),t(r,i,o)}}}function l(e){function t(e){var t=n.mobile.dialog.prototype.options,r=n("<a href='#' data-"+n.mobile.ns+"icon='delete' data-"+n.mobile.ns+"iconpos='notext'>"+t.closeBtnText+"</a>");e.find(":jqmData(role='header')").prepend(r),e.data("headerCloseButton",r)}return{precompile:t,link:function(n,t,r,i,o){e.createWidget(n,r,i);var a=r.find(':jqmData(role="header") :jqmData(icon="delete")');a.eq(1).bind("click",function(){r.dialog("close")}),a.eq(0).remove(),e.bindDefaultAttrsAndEvents(n,t,r,i,o)}}}function u(e){return{link:function(n,t,r,i,o){e.createWidget(n,r,i),e.bindDefaultAttrsAndEvents(n,t,r,i,o),r.bind("$childrenChanged",function(){e.triggerAsyncRefresh(n,t,r,{})})}}}var f=e.module("ng");f.config(["jqmNgWidgetProvider",function(e){e.widget("checkboxradio",["jqmNgWidget",o]),e.widget("button",["jqmNgWidget",a]),e.widget("collapsible",["jqmNgWidget","$parse",c]),e.widget("dialog",["jqmNgWidget",l]),e.widget("controlgroup",["jqmNgWidget",u]),e.widget("textinput",["jqmNgWidget",t]),e.widget("slider",["jqmNgWidget","$timeout",i]),e.widget("listview",["jqmNgWidget",t]),e.widget("collapsibleset",["jqmNgWidget",t]),e.widget("selectmenu",["jqmNgWidget",t]),e.widget("navbar",["jqmNgWidget",t]),e.widget("fixedtoolbar",["jqmNgWidget",t]),e.widget("popup",["jqmNgWidget","$parse",r])}])}(n,e),function(e,n){function t(e){function n(e){return e.back=function(){return e.$$replace="back",this},e}function t(e){var n=e.baseHref;return e.baseHref=function(){var e=n.call(this);return e?e.replace(/^file?\:\/\/[^\/]*/,""):e},e}function r(e){var n=e.url;return e.url=function(){var e=n.apply(this,arguments);return 0===arguments.length&&(e=e.replace(/%23/g,"#")),e},e}function i(e,n,t,r){var i,o=e.url,a=e.onUrlChange,c=null;return a.call(e,function(e){if(c){var t=r.get("$location");t.routeOverride(c)}n.onUrlChangeBrowser(e),i&&i.apply(this,arguments)}),e.onUrlChange=function(e){a.call(this,function(){i||e.apply(this,arguments)})},e.stopOnUrlChangeListeners=function(e){i=e},n.removePastEntries=function(t){var r=n.urlStack[n.activeIndex];e.stopOnUrlChangeListeners(function(){r?(e.url(r.url,!0),n.urlStack[n.activeIndex]=r,r=null):e.stopOnUrlChangeListeners(null)}),n.go(-t)},e.url=function(e,t){if(e){var r=o.call(this,e,t===!0);return n.onUrlChangeProgrammatically(e,t===!0,"back"===t),r}return o.apply(this,arguments)},e}e.decorator("$browser",["$delegate",r]),e.decorator("$browser",["$delegate",t]),e.decorator("$browser",["$delegate","$history","$rootScope","$injector",i]),e.decorator("$location",["$delegate","$history",n])}function r(){function e(e){window.setTimeout(function(){window.history.go(e)},0)}function n(){a.go(-1)}function t(e){var n,t=a.urlStack;for(n=0;t.length>n;n++)if(t[n].url===e)return n;return-1}function r(e){for(var n=a.activeIndex-1;n>=0&&a.urlStack[n].url!==e;)n--;return n}function i(e){var n=a.activeIndex;a.activeIndex=t(e),-1===a.activeIndex?o(e,!1):a.lastIndexFromUrlChange=n}function o(e,n,t){if(t){var i=a.activeIndex,o=r(e);-1!==o&&-1!==i&&a.removePastEntries(i-o)}var c=a.urlStack[a.activeIndex];c&&c.url===e||(a.lastIndexFromUrlChange=-1,n||a.activeIndex++,a.urlStack.splice(a.activeIndex,a.urlStack.length-a.activeIndex),a.urlStack.push({url:e}))}var a;return a={go:e,goBack:n,urlStack:[],indexOf:t,activeIndex:-1,fromUrlChange:!1,onUrlChangeProgrammatically:o,onUrlChangeBrowser:i}}var i=n.module("ng");e.mobile._registerBrowserDecorators=e.mobile._registerBrowserDecorators||[],e.mobile._registerBrowserDecorators.push(t),i.config(["$provide",function(e){t(e)}]),i.factory("$history",r)}(window.jQuery,window.angular),function(e,n){function t(){b.directive("a",v),b.config(["$locationProvider",h])}function r(e){e.routeOverride=function(n){return 0===arguments.length?e.$$routeOverride:(e.$$routeOverride=n,this)};var n=e.hash();return n&&0===n.indexOf("!")&&(e.search({}),e.url(n.substring(1))),e}function i(){n.mobile.pushStateEnabled=!1,n.mobile.hashListeningEnabled=!1,n.mobile.linkBindingEnabled=!1,n.mobile.changePage.defaults.changeHash=!1,n.mobile._handleHashChange=function(){},n.support.dynamicBaseTag&&(n.support.dynamicBaseTag=!1,n.mobile.base.set=function(){}),n.mobile.changePage.defaults.allowSamePageTransition=!0;var e=n.mobile.urlHistory.add;n.mobile.urlHistory.add=function(){var t=e.apply(this,arguments),r=n.mobile.urlHistory,i=r.stack,o=i.length-3;return i.length>3&&(i.splice(0,o),r.activeIndex-=o,0>r.activeIndex&&(r.activeIndex=0)),t}}function o(e){var n=e.when;e.when=function(e,t){if(!t.templateUrl&&!t.redirectTo)throw Error("Only routes with templateUrl or redirectTo are allowed with the jqm adapter!");if(t.controller)throw Error("Controllers are not allowed on routes with the jqm adapter. However, you may use the onActivate parameter");return n.apply(this,arguments)},e.otherwise({templateUrl:$})}function a(e){return e.substr(0,e.lastIndexOf("/"))}function c(n,t){n.$on("$routeChangeStart",function(n,r){var i=t.$$routeOverride;delete t.$$routeOverride,i&&(i.onActivate&&(r.onActivate=i.onActivate),r.jqmOptions=r.jqmOptions||{},e.extend(r.jqmOptions,i.jqmOptions),r.resolve=r.resolve||{},e.forEach(i.locals,function(e,n){r.resolve[n]=function(){return e}})),r.ngmTemplateUrl=r.templateUrl,r.templateUrl=void 0})}function l(t,r,i,o,a){function c(){var t=n.mobile.activePage,o=t.data("lastNavProps");if(o&&o.navByNg){var c,l=r.current;u()?a.urlStack[a.activeIndex].tempUrl=!0:f()&&s(a),l&&l.onActivate&&(c=e.extend({},l.locals,i),t.scope().$eval(l.onActivate,c))}}function l(e,n){"object"==typeof n.toPage&&n.toPage.data("lastNavProps",n.options)}function s(e){for(var n=e.activeIndex-1,t=0;n>=0&&e.urlStack[n].tempUrl;)t++,n--;t>0&&e.removePastEntries(t)}n(document).on("pagebeforechange",l);var d=n.mobile.page.prototype;d._oldHandlePageBeforeShow=d._oldHandlePageBeforeShow||d._handlePageBeforeShow,d._handlePageBeforeShow=function(){var e=d._oldHandlePageBeforeShow.apply(this,arguments);return c(),e}}function u(){return n.mobile.activePage&&"dialog"===n.mobile.activePage.jqmData("role")}function f(){return n.mobile.activePage&&"page"===n.mobile.activePage.jqmData("role")}function s(e,t,r,i,o){e.$on("$routeChangeSuccess",function(){function c(){n.mobile.changePage(f,d)}function l(e){if(o.lastIndexFromUrlChange>=0){var n;o.lastIndexFromUrlChange>o.activeIndex?(e.reverse=!0,n=o.urlStack[o.lastIndexFromUrlChange]):n=o.urlStack[o.activeIndex],n&&n.jqmOptions&&(e.transition=n.jqmOptions.transition)}else o.urlStack[o.activeIndex].jqmOptions=e}var u=t.current;n(document);var f=u.ngmTemplateUrl;if(f===$){f=r.url();var s=i.baseHref();f=-1===f.indexOf("/")?s+f:a(s)+f}if(f){var d=u.jqmOptions||{};l(d),d.navByNg=!0,n.mobile.firstPage?c():e.$on("jqmInit",c)}})}function d(e,t,r){var i=n.mobile.dialog.prototype;i.origClose=i.origClose||i.close,i.close=function(){var t=n.mobile.activePage.data("lastNavProps");this._isCloseable&&t&&t.navByNg?(this._isCloseable=!1,e.$apply(function(){r.goBack()})):this.origClose()}}function p(e,t,r,i,o){var a=t.jqmData("rel");if("back"===a)e.preventDefault(),r.$apply(function(){o.goBack()});else if("popup"===a)e.preventDefault(),r.$apply(function(){var e=n.mobile.activePage.find(t.attr("href"));e.length&&e.popup("open")});else if(g(t))e.preventDefault();else{var c=t.prop("href"),l=i.$$rewriteAppUrl(c),u=t.jqmData("ajax");if(c&&!t.attr("target")&&u!==!1&&"external"!==a&&l){i.$$parse(l),e.preventDefault(),window.angular["ff-684208-preventDefault"]=!0;var f=i.routeOverride()||{},s=f.jqmOptions={link:t},d=t.jqmData("transition");d&&(s.transition=d);var p=t.jqmData("direction");p&&(s.reverse="reverse"===p),i.routeOverride(f),r.$apply()}}}function g(e){var n=e.attr("href");return"#"===n||!n}function v(){return{restrict:"E",compile:function(e,n){g(e)&&n.$set("href","#")}}}function h(t){var r=t.$get;t.$get=["$injector","$rootElement","$rootScope","$browser","$history",function(i,o,a,c,l){var u=m(o,function(){return i.invoke(r,t)});return o.bind("click",function(t){if(!t.ctrlKey&&!t.metaKey&&2!==t.which){for(var r=n(t.target);"a"!==e.lowercase(r[0].nodeName);)if(r[0]===o[0]||!(r=r.parent())[0])return;p(t,r,a,u,l)}}),u}]}function m(e,t){var r=n.fn.bind;try{return n.fn.bind=function(n){return"click"!==n||this[0]!==e[0]?r.apply(this,arguments):void 0},t()}finally{n.fn.bind=r}}var $="DEFAULT_JQM_PAGE",b=e.module("ng");i(),b.config(["$locationProvider",function(e){e.html5Mode(!0),e.hashPrefix("!")}]),b.directive("ngView",function(){throw Error("ngView is not allowed and not needed with the jqm adapter.")}),t(),b.config(["$routeProvider",o]),b.run(["$rootScope","$location",c]),b.run(["$rootScope","$route","$routeParams","$location","$history",l]),b.run(["$rootScope","$route","$location","$browser","$history",s]),b.run(["$rootScope","$location","$history",d]),b.config(["$provide",function(e){e.decorator("$location",["$delegate",r])}])}(n,e),function(e,n){function t(e,n){var t;if(!!e^!!n)return!1;for(t in e)if(n[t]!==e[t])return!1;for(t in n)if(n[t]!==e[t])return!1;return!0}function r(e){if(!e)return e;var n;n=e.length?[]:{};for(var t in e)n[t]=e[t];return n}var i=n.module("ng");i.directive("ngRepeat",function(){return{priority:1e3,compile:function(){return{pre:function(e,n,i){var o=i.ngRepeat,a=o.match(/^.+in\s+(.*)\s*$/);if(!a)throw Error("Expected ngRepeat in form of '_item_ in _collection_' but got '"+o+"'.");var c,l=a[1],u=0;e.$watch(function(){var n=e.$eval(l);return t(n,c)||(c=r(n),u++),u},function(){n.parent().trigger("$childrenChanged")})}}}}})}(e,n),function(e,n){function t(e){var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push(t);return n.sort()}var r=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*)$/,i=n.module("ng");i.directive("ngOptions",["$parse",function(e){return{require:["select","?ngModel"],link:function(n,i,o,a){function c(){var e,r,i,o=[],a=g(n)||[],c=d?t(a):a,l={};for(r=c.length,i=0;r>i;i++)a[i],l[s]=a[d?l[d]=c[i]:i],e=p(n,l),o.push({id:d?c[i]:i,label:f(n,l),optionGroup:e});return o}if(a[1]){var l,u=o.ngOptions;if(!(l=u.match(r)))throw Error("Expected ngOptions in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '"+u+"'.");var f=e(l[2]||l[1]),s=l[4]||l[6],d=l[5],p=e(l[3]||""),g=(e(l[2]?l[1]:s),e(l[7]));n.$watch(c,function(){i.trigger("$childrenChanged")},!0)}}}}])}(e,n),function(e){var n=e.module("ng");n.directive("option",["$interpolate",function(e){return{restrict:"E",compile:function(n){var t=e(n.text(),!0),r=e(n.attr("value"),!0);return function(e,n){e.$watch(t,function(){n.trigger("$childrenChanged")}),e.$watch(r,function(){n.trigger("$childrenChanged")})}}}}])}(n),function(n){var t=n.module("ng");t.directive("li",function(){return{restrict:"E",compile:function(){return function(n,t){t.bind("$childrenChanged",function(){t.removeClass(function(e,n){return(n.match(/\bui-\S+/g)||[]).join(" ")});var n=t.data("buttonElements");if(n){for(var r=n.text;r.firstChild;)t[0].appendChild(r.firstChild);e(n.inner).remove()}t.removeData("buttonElements")})}}}})}(n),function(e){var n=e.module("ng");n.directive("ngSwitch",function(){return{restrict:"EA",compile:function(e,n){var t=n.ngSwitch||n.on;return function(e,n){e.$watch(t,function(){n.trigger("$childrenChanged")})}}}})}(n),function(e){var n=e.module("ng");n.directive("ngInclude",function(){return{restrict:"ECA",compile:function(e,n){var t=n.ngInclude||n.src;return function(e,n){e.$watch(t,function(){n.trigger("$childrenChanged")}),e.$on("$includeContentLoaded",function(){n.trigger("$childrenChanged")})}}}})}(n),function(e,n){function t(){return{restrict:"E",require:"?ngModel",compile:function(e){var n=e.attr("type");return{pre:function(e,t,r,i){if(i){var o=[];"date"===n&&o.push("blur"),o.push("change");var a=t.bind;t.bind=function(e,n){if(-1!==e.indexOf("input")||-1!==e.indexOf("change"))for(var t=0;o.length>t;t++){var r=o[t];-1===e.indexOf(r)&&(e+=" "+r)}return a.call(this,e,n)}}}}}}}var r=n.module("ng");r.directive("input",t),r.directive("textarea",t)}(e,n),function(e){var n={transclude:"element",priority:1e3,terminal:!0,compile:function(e,n,t){return function(e,n,r){n[0].doNotMove=!0;var i,o,a=r.ngmIf;e.$watch(a,function(r){i&&(i.remove(),i=null),o&&(o.$destroy(),o=null),r&&(o=e.$new(),t(o,function(e){i=e,n.after(e)})),n.parent().trigger("$childrenChanged")})}}},t=e.module("ng");t.directive("ngmIf",function(){return n})}(n),function(e){function n(e,n,t,r,i){var o=n(i);t.bind(r,function(n){e.$apply(function(){o(e,{$event:n})}),"v"===r.charAt(0)&&n.preventDefault()})}function t(e,t){a.directive(e,["$parse",function(r){return function(i,o,a){var c=a[e];n(i,r,o,t,c)}}])}var r,i,o,a=e.module("ng"),c=["tap","taphold","swipe","swiperight","swipeleft","vmouseover","vmouseout","vmousedown","vmousemove","vmouseup","vclick","vmousecancel","orientationchange","scrollstart","scrollend","pagebeforeshow","pagebeforehide","pageshow","pagehide"];for(o=0;c.length>o;o++)r=c[o],i="ngm"+r.substring(0,1).toUpperCase()+r.substring(1),t(i,r)}(n),function(e){function n(e){return e[i]=e[i]||{}}function t(e,t,r,i){var o=n(e),a=o[t];return a||(a=e.$new(),r(t,{$scope:a}),o[t]=a,a.$$referenceCount=0),a.$$referenceCount++,i.bind("$destroy",function(){a.$$referenceCount--,0===a.$$referenceCount&&(a.$destroy(),delete o[t])}),a}function r(e){for(var n,t=/([^\s,:]+)\s*:\s*([^\s,:]+)/g,r=!1,i={};n=t.exec(e);)r=!0,i[n[1]]=n[2];if(!r)throw"Expression "+e+" needs to have the syntax <name>:<controller>,...";return i}var i="$$sharedControllers",o=e.module("ng");o.directive("ngmSharedController",["$controller",function(e){return{scope:!0,compile:function(n,i){var o=i.ngmSharedController,a=r(o),c=function(r){for(var i in a)r[i]=t(r.$root,a[i],e,n)};return{pre:c}}}}])}(n),function(e,n){function t(n){function t(e){var t=u[u.length-1];t.callback&&n.$apply(function(){t.callback.apply(this,arguments)}),e.preventDefault()}function r(){if(!e.mobile.firstPage)return n.$on("jqmInit",r),void 0;if(u.length>0){var t=u[u.length-1],i=t.msg;i?e.mobile.loading("show",{text:i,textVisible:!!i}):e.mobile.loading("show")}else e.mobile.loading("hide")}function i(){var e,n;"string"==typeof arguments[0]&&(e=arguments[0]),"function"==typeof arguments[0]&&(n=arguments[0]),"function"==typeof arguments[1]&&(n=arguments[1]),u.push({msg:e,callback:n}),r()}function o(){u.pop(),r()}function a(e,n){e.then(n,n)}function c(e,n){i(n),a(e,function(){o()})}function l(n,t,r){r||(r=e.mobile.loader.prototype.options.textWithCancel),i(r,function(){n.reject(t)}),a(n.promise,function(){o()})}var u=[];return e(document).delegate(".ui-loader","vclick",t),e.mobile.loader.prototype.options.textWithCancel||(e.mobile.loader.prototype.options.textWithCancel="Loading. Click to cancel."),e(document).on("pageshow","div",function(){r()}),{show:i,hide:o,waitFor:c,waitForWithCancel:l}}var r=n.module("ng");r.factory("$waitDialog",["$rootScope",t])}(e,n),function(e,n){function t(e){return function(n,t,r){if(!n)return n;if(!t)throw Error("Missing pager property");var i=this,o=i[t];o||(o=i[t]={loadMore:function(){this.loadMoreCalled=!0}});var a=r?+r:e,c=o.endIndex||a;return o.loadMoreCalled&&(o.loadMoreCalled=!1,c+=a),c>=n.length&&(c=n.length),a>c&&(c=a),o.hasMore=n.length>c,o.endIndex=c,o.cache=n.slice(0,c),o.cache}}t.$inject=["defaultListPageSize"];var r=n.module(["ng"]);r.constant("defaultListPageSize",10),r.filter("paged",t)}(e,n)});